<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <script>addEventListener('error', window.__e=function f(e){f.q=f.q||[];f.q.push(e)});</script> <link rel=canonical href=https://kevinjalbert.com/applescript-that-mirrors-iphone-to-quicktime/> <title>AppleScript that Mirrors iPhone to QuickTime | Kevin Jalbert</title> <meta name=description content="I automated seven manual steps to mirror my iPhone to QuickTime using AppleScript. Read about some of the challenges I encountered and see the finalized script being trigged by Alfred."/> <meta name=keywords content="ios, tools, alfred, applescript"/> <meta name=datePublished content="2021-04-30 00:00:00 UTC"/> <meta property="og:article:published_time" content="2021-04-30 00:00:00 UTC"/> <meta name=author content="Kevin Jalbert"/> <meta property="og:article:author" content="2021-04-30 00:00:00 UTC"/> <meta name=url content="https://kevinjalbert.com/applescript-that-mirrors-iphone-to-quicktime/"/> <meta property="og:url" content="https://kevinjalbert.com/applescript-that-mirrors-iphone-to-quicktime/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="I automated seven manual steps to mirror my iPhone to QuickTime using AppleScript. Read about some of the challenges I encountered and see the finalized script being trigged by Alfred."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/2021-04-30-applescript-that-mirrors-iphone-to-quicktime/mirror-alfred-script.png"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="AppleScript that Mirrors iPhone to QuickTime"/> <meta property="og:description" content="I automated seven manual steps to mirror my iPhone to QuickTime using AppleScript. Read about some of the challenges I encountered and see the finalized script being trigged by Alfred."/> <meta property="og:image" content="https://kevinjalbert.com/images/2021-04-30-applescript-that-mirrors-iphone-to-quicktime/mirror-alfred-script.png"/> <meta property="og:title" content="AppleScript that Mirrors iPhone to QuickTime"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "AppleScript that Mirrors iPhone to QuickTime",
       "keywords": "ios, tools, alfred, applescript",
       "url": "https://kevinjalbert.com/applescript-that-mirrors-iphone-to-quicktime/",
       "datePublished": "2021-04-30 00:00:00 UTC",
       "dateModified": "2021-04-30 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/applescript-that-mirrors-iphone-to-quicktime/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> <script async src="/vendor/analytics/index.js"></script> <script async src="https://www.google-analytics.com/analytics.js"></script> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> <a href="/uses/">Uses</a> <a href="https://github.com/kevinjalbert/ama/blob/master/README.md">AMA</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>AppleScript that Mirrors iPhone to QuickTime</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class="article__date entry-date">April 30, 2021 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>3 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/applescript-that-mirrors-iphone-to-quicktime/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/alfred/">alfred</a> <a href="/tags/applescript/">applescript</a> <a href="/tags/ios/">ios</a> <a href="/tags/tools/">tools</a> </div> </div> </div> <img src=/images/2021-04-30-applescript-that-mirrors-iphone-to-quicktime/mirror-alfred-script.png> <i><p>Photo of the AppleScript and Alfred Workflow to mirror my iPhone to QuickTime</p> </i> <div class=article__separator></div> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> If you enjoy this, consider subscribing to my newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <p style="text-align: center">I aim to publish one article a month</p> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="E-mail address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <p>Like many, I&rsquo;m guilty of playing mobile games on my iPhone. For the games that have controller support, I&rsquo;ll stream the video on a larger screen. As mentioned in my <a href="/how-i-keep-active-at-home">previous article</a>, I&rsquo;ll sometimes play on my exercise bike. In this situation, I&rsquo;ll <em>mirror</em> my iOS device through QuickTime so that I can play on a larger screen with a controller.</p> <h1>Manual Steps</h1> <p>There are a number of steps that I have to complete to mirror my iPhone to QuickTime:</p> <ol> <li>Enable <a href="https://keepingyouawake.app/">KeepingYouAwake</a> (so monitor doesn&rsquo;t go to sleep with no inputs)</li> <li>Open QuickTime</li> <li>Make a new <em>Movie Recording</em></li> <li>Select my iPhone for video input</li> <li>Select my iPhone for audio input</li> <li>Drag the volume slider to 100%.</li> <li>Maximize Quicktime window</li> </ol> <h1>Sweet Automation</h1> <p>This GIF demonstrates the automation that covers all seven manual steps. I launch it using <a href="https://www.alfredapp.com/">Alfred</a>.</p> <p><img alt="Mirror ios alfred" width=854 height=591 src="/images/2021-04-30-applescript-that-mirrors-iphone-to-quicktime/mirror-ios-alfred.gif"/></p> <h1>The Code</h1> <p>I may be biased, but the source code is organized quite well in my opinion. The first eight lines cover all necessary customization needs as they are just function calls. If you need to, you can always dive into the functions themselves. The following is the code hosted on a <a href="https://gist.github.com/kevinjalbert/d7661a6a34c1d66dccf701f64eb09be4">Public Gist</a>.</p> <script src="https://gist.github.com/kevinjalbert/d7661a6a34c1d66dccf701f64eb09be4.js"></script> <h1>Challenges</h1> <h2>Selecting a video input</h2> <p>I had to select my iPhone for the video/audio inputs in QuickTime using AppleScript. A quick search turned up this <a href="https://stackoverflow.com/q/45228743/583592">Stack Overflow question</a>. It turns out that you <em>should</em> be able to do the following:</p> <div class=highlight><pre class="highlight applescript"><code><span class="k">tell</span><span class="w"> </span><span class="nb">application</span><span class="w"> </span><span class="s2">"QuickTime Player"</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">newMovieRecording</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">new</span><span class="w"> </span><span class="na">movie</span><span class="w"> </span><span class="nv">recording</span><span class="w">
    </span><span class="k">tell</span><span class="w"> </span><span class="nv">newMovieRecording</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="nv">camera</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">newMovieRecording</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"Kevin's iPhone"</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="nv">microphone</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">newMovieRecording</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"Kevin's iPhone"</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">tell</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">tell</span><span class="w">
</span></code></pre></div> <p>Unfortunately, it doesn&rsquo;t work as you get hit with <code>Canâ€™t make &quot;Kevin&#39;s iPhone&quot; into type video recording device</code>. This would have made things <em>much easier</em>.</p> <p>Instead, we have to click the button to open the inputs list and then make the selections via AppleScript. This wasn&rsquo;t too bad initially, as it was just iterating the list of menu items and clicking the one which matched my device&rsquo;s name.</p> <h2>Same name for audio/video inputs</h2> <p>After I was able to select the video input, the next problem is selecting the audio input. The problem now is that the audio and video input share the same name and are within the same list. I would have to <em>skip</em> the first one (video input) to select the audio input. This wasn&rsquo;t too hard but was just another hurdle to get over. Ideally, the list of inputs would have been separated by video/audio, or somehow have a different key to reference them by.</p> <h2>Inputs menu was slow to close</h2> <p>I had noticed earlier that when the inputs menu was opened it would stay open for 7-8 seconds before making the menu item selection. I wasn&rsquo;t too concerned at the time, but after the whole automation was done it took just under 20 seconds to mirror my device.</p> <p>It took a lot of digging but I found a <a href="https://apple.stackexchange.com/a/400163/228446">Stack Overflow answer</a> that provided the solution.</p> <div class=highlight><pre class="highlight applescript"><code><span class="k">on</span> <span class="nv">openInputMenu</span><span class="p">()</span><span class="w">
    </span><span class="k">ignoring </span><span class="nb">application responses</span><span class="w">
        </span><span class="k">tell</span><span class="w"> </span><span class="nb">application</span><span class="w"> </span><span class="s2">"System Events"</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">tell</span><span class="w"> </span><span class="nv">process</span><span class="w"> </span><span class="s2">"QuickTime Player"</span><span class="w">
            </span><span class="nv">click</span><span class="w"> </span><span class="nb">button</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="na">window</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="nb">delay</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="k">end</span><span class="w"> </span><span class="k">tell</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">ignoring</span><span class="w">
    </span><span class="nb">do shell script</span><span class="w"> </span><span class="s2">"killall 'System Events'"</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">openDeviceMenu</span><span class="w">
</span></code></pre></div> <p>This function for opening the menu is explicitly telling it to ignore the application responses (i.e., don&rsquo;t wait for feedback). A manual delay of a second is injected to give time for the menu to open up. It also kills the <code>System Events</code>, which ends up forcing the script to continue execution to future actions. I&rsquo;ll be honest, I&rsquo;m not 100% on the specifics but it worked &ndash; the menu opens and the selections are made in just over a second now.</p> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="container footer"> <div class="col-md-12 footer__social"> <a href="https://twitter.com/KevinJalbert">Twitter</a> <a href="https://github.com/kevinjalbert">GitHub</a> <a href="https://stackoverflow.com/users/583592/kevin-jalbert">Stack Overflow</a> </div> <div class="col-md-12 footer__copywrite"> Code licensed <a href="https://github.com/kevinjalbert/kevinjalbert.github.io/blob/real-master/LICENSE">MIT</a>, Content &copy; 2019 Kevin Jalbert </div> </div> </html> <script src="/javascripts/app.js"></script>