<!DOCTYPE html> <html lang=en> <head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-SZ2C67981H"></script> <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-SZ2C67981H');
    </script> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=canonical href=https://kevinjalbert.com/getting-non-homekit-devices-working-in-homekit/> <title>Getting Non-HomeKit Devices Working in HomeKit | Kevin Jalbert</title> <meta name=description content="Read about how I got my non-HomeKit devices working in HomeKit using Homebridge. This makes it easy to use Siri (via an Apple Watch) to control my smart devices."/> <meta name=keywords content="iOS, HomeKit, Homebridge"/> <meta name=datePublished content="2022-11-30 00:00:00 UTC"/> <meta property="og:article:published_time" content="2022-11-30 00:00:00 UTC"/> <meta name=author content="Kevin Jalbert"/> <meta property="og:article:author" content="2022-11-30 00:00:00 UTC"/> <meta name=url content="https://kevinjalbert.com/getting-non-homekit-devices-working-in-homekit/"/> <meta property="og:url" content="https://kevinjalbert.com/getting-non-homekit-devices-working-in-homekit/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="Read about how I got my non-HomeKit devices working in HomeKit using Homebridge. This makes it easy to use Siri (via an Apple Watch) to control my smart devices."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/2022-11-30-getting-non-homekit-devices-working-in-homekit/homebridge.png"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="Getting Non-HomeKit Devices Working in HomeKit"/> <meta property="og:description" content="Read about how I got my non-HomeKit devices working in HomeKit using Homebridge. This makes it easy to use Siri (via an Apple Watch) to control my smart devices."/> <meta property="og:image" content="https://kevinjalbert.com/images/2022-11-30-getting-non-homekit-devices-working-in-homekit/homebridge.png"/> <meta property="og:title" content="Getting Non-HomeKit Devices Working in HomeKit"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "Getting Non-HomeKit Devices Working in HomeKit",
       "keywords": "iOS, HomeKit, Homebridge",
       "url": "https://kevinjalbert.com/getting-non-homekit-devices-working-in-homekit/",
       "datePublished": "2022-11-30 00:00:00 UTC",
       "dateModified": "2022-11-30 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/getting-non-homekit-devices-working-in-homekit/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> <a href="/uses/">Uses</a> <a href="https://github.com/kevinjalbert/ama/blob/master/README.md">AMA</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Getting Non-HomeKit Devices Working in HomeKit</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class="article__date entry-date">November 30, 2022 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>3 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/getting-non-homekit-devices-working-in-homekit/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/homekit/">HomeKit</a> <a href="/tags/homebridge/">Homebridge</a> <a href="/tags/ios/">iOS</a> </div> </div> </div> <img src=/images/2022-11-30-getting-non-homekit-devices-working-in-homekit/homebridge.png> <i><p>My Homebridge UI with the current installed plugins for my smart devices</p> </i> <div class=article__separator></div> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> If you enjoy this, consider subscribing to my newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <p style="text-align: center">I aim to publish one article a month</p> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="E-mail address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <h2>Google Home as my Hub</h2> <p>All my smart home devices end up connecting via <a href="https://home.google.com/welcome/">Google Home</a>. It was an easy entry point at the time via the inexpensive Google Home devices, and it turned out that voice activation was the <em>key</em> to usability.</p> <p>Even being an Apple household, we never got into <a href="https://www.apple.com/ca/home-app/accessories/">HomeKit</a>. I figured that switching to HomePods was a bit too costly&hellip; and also some of my smart devices didn&rsquo;t connect to HomeKit.</p> <h2>Apple Watch and HomeKit</h2> <p>I&rsquo;ve recently connected a smart switch for the lamp in my youngest son&rsquo;s room. When my wife puts him down she&rsquo;ll be laying with him, and wants an easy way to turn his lamp off (as it is across the room), I know&hellip; first-world problems. If she has her phone she can use that, but often she just has her Apple Watch.</p> <p>I looked around, and it seemed to like controlling devices via HomeKit would be an ideal solution, and <a href="https://support.apple.com/en-ca/guide/watch/apddad023a05/watchos">with WatchOS it is possible</a>. Now to connect my non-HomeKit devices somehow&hellip;</p> <h1>Exploring Homebridge</h1> <p>A quick investigation led me to <a href="https://homebridge.io/">Homebridge</a>.</p> <blockquote> <p>Homebridge allows you to integrate with smart home devices that do not natively support HomeKit. There are over 2,000 Homebridge plugins supporting thousands of different smart accessories.</p> </blockquote> <p>With my <em>recently new</em> <a href="https://unraid.net/">Unraid server</a>, I was able to spin up a <a href="https://github.com/oznu/docker-homebridge">Homebridge Docker container</a> and had the majority of my devices working quickly!</p> <h2>Tweaks and Cameras</h2> <p>Homebridge lets you install plugins to then act as the bridge between said devices and HomeKit.</p> <p>As of now, I&rsquo;m currently using the following plugins:</p> <ul> <li><a href="https://github.com/plasticrake/homebridge-tplink-smarthome">Homebridge TPLink Smarthome</a> <ul> <li>My <a href="https://www.kasasmart.com">Kasa</a> outlets/switches/lights.</li> <li>Worked out of the box and just auto-discovered existing devices on the network.</li> </ul></li> <li><a href="https://github.com/dkerr64/homebridge-yolink">Homebridge YoLink</a> <ul> <li>My <a href="https://shop.yosmart.com/">YoLink</a> door/water/motion sensors.</li> <li>Worked out of the box after inputting the required credentials.</li> </ul></li> <li><a href="https://github.com/Brandawg93/homebridge-nest-cam">Homebridge Nest Cam</a> <ul> <li>My <a href="https://store.google.com/ca/product/nest_doorbell">Nest Hello Doorbell</a> (older model) <ul> <li>After getting past the authentication (as I haven&rsquo;t migrated my Nest account to Google) this worked. The one <em>addition</em> I did in the <code>config.json</code> was specifying <code>&quot;ffmpegCodec&quot;: &quot;copy&quot;</code> to avoid encoding the stream on my server (fewer resources).</li> </ul></li> </ul></li> <li><a href="https://github.com/Sunoo/homebridge-camera-ffmpeg">Homebridge Camera FFmpeg</a> <ul> <li>My <a href="https://www.wyze.com/">Wyze Cameras</a> to keep an eye on the kids at night</li> <li>This one was a bit more involved&hellip; <ul> <li>I used <a href="https://github.com/mrlt8/docker-wyze-bridge"><code>docker-wyze-bridge</code></a> to first expose an RTSP (Real Time Streaming Protocol) stream for the Wyze cameras.</li> <li>I then was able to specify the RTSP and Snapshot URLs in the <code>homebridge-camera-ffmpeg</code> settings.</li> <li>The last thing was to specify <code>copy</code> under <code>Advanced &gt; Video Codec</code>, again to avoid encoding.</li> </ul></li> </ul></li> </ul> <h1>The Aftermath</h1> <p>After all was said and done, everything works as expected. We&rsquo;re able to use our non-HomeKit devices in HomeKit and leverage it on our Apple Devices.</p> <h2>Benefits</h2> <ul> <li>Smart devices are exposed in HomeKit.</li> <li>Better iOS/WatchOS/macOS integration due to <code>Home</code> app.</li> <li>Siri&rsquo;s capabilities are so nice given I use an iPhone and Apple Watch.</li> <li>The Google Home application continues to function as a Hub.</li> </ul> <h2>Frustrations</h2> <ul> <li>Smart device names when changed on the source application don&rsquo;t reflect in HomeKit.</li> <li>If the Homebridge service has an issue then nothing works via HomeKit.</li> <li>Another place to put automations (granted options are nice, but having automations spread across different systems is harder to keep track of.)</li> </ul> <h2>Next Steps</h2> <p>I did stumble across <a href="https://www.home-assistant.io/">Home Assistant</a>, which looks like an even more powerful automation system. This might be something I poke around with, as there is also a <a href="https://www.home-assistant.io/integrations/homekit/">HomeKit Integration</a> for this (amongst many others). One thing at a time though, too much change can be hard to cope with.</p> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="container footer"> <div class="col-md-12 footer__social"> <a href="https://twitter.com/KevinJalbert">Twitter</a> <a href="https://github.com/kevinjalbert">GitHub</a> <a href="https://stackoverflow.com/users/583592/kevin-jalbert">Stack Overflow</a> </div> <div class="col-md-12 footer__copywrite"> Code licensed <a href="https://github.com/kevinjalbert/kevinjalbert.github.io/blob/real-master/LICENSE">MIT</a>, Content &copy; 2019 Kevin Jalbert </div> </div> </html> <script src="/javascripts/app.js"></script>