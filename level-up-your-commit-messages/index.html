<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <script>addEventListener('error', window.__e=function f(e){f.q=f.q||[];f.q.push(e)});</script> <link rel=canonical href=https://kevinjalbert.com/level-up-your-commit-messages/> <title>Level Up Your Commit Messages | Kevin Jalbert</title> <meta name=description content="Version control is something that all developers have to work through. It is such an essential part of working in the software field, especially in teams. There are many tools, utilities, commands ..."/> <meta name=keywords content="process, communication, version control"/> <meta name=datePublished content="2019-01-30 00:00:00 UTC"/> <meta property="og:article:published_time" content="2019-01-30 00:00:00 UTC"/> <meta name=author content="Kevin Jalbert"/> <meta property="og:article:author" content="2019-01-30 00:00:00 UTC"/> <meta name=url content="https://kevinjalbert.com/level-up-your-commit-messages/"/> <meta property="og:url" content="https://kevinjalbert.com/level-up-your-commit-messages/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="Version control is something that all developers have to work through. It is such an essential part of working in the software field, especially in teams. There are many tools, utilities, commands and scenarios to learn. One facet that sometimes is overlooked is the *commit message* itself."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/2019-01-30-level-up-your-commit-messages/git-commit.png"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="Level Up Your Commit Messages"/> <meta property="og:description" content="Version control is something that all developers have to work through. It is such an essential part of working in the software field, especially in teams. There are many tools, utilities, commands and scenarios to learn. One facet that sometimes is overlooked is the *commit message* itself."/> <meta property="og:image" content="https://kevinjalbert.com/images/2019-01-30-level-up-your-commit-messages/git-commit.png"/> <meta property="og:title" content="Level Up Your Commit Messages"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "Level Up Your Commit Messages",
       "keywords": "process, communication, version control",
       "url": "https://kevinjalbert.com/level-up-your-commit-messages/",
       "datePublished": "2019-01-30 00:00:00 UTC",
       "dateModified": "2019-01-30 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/level-up-your-commit-messages/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> <script async src="/vendor/analytics/index.js"></script> <script async src="https://www.google-analytics.com/analytics.js"></script> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> <a href="/uses/">Uses</a> <a href="https://github.com/kevinjalbert/ama/blob/master/README.md">AMA</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Level Up Your Commit Messages</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class="article__date entry-date">January 30, 2019 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>5 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/level-up-your-commit-messages/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/communication/">communication</a> <a href="/tags/process/">process</a> <a href="/tags/version-control/">version control</a> </div> </div> </div> <img src=/images/2019-01-30-level-up-your-commit-messages/git-commit.png> <i><p><a href="https://xkcd.com/1296">XKCD Comic on Git Commit</a></p> </i> <div class=article__separator></div> <p>A well-crafted message is important for yourself and others — it helps frame the context of what changed and why. It is especially important when you have to look back at old commits to figure out why the code has a certain structure or behaviour.</p> <p>It is easy to make one-line commit messages that have little-to-no context in the description. There are a couple of reasons one might fall into this behaviour:</p> <ul> <li>Doing exploratory work in which small changes are being made with little care</li> <li>Want to move faster (although you will pay for it later)</li> <li>Assuming that the <em>why</em> and <em>what</em> are obvious (which it might not be to others)</li> <li>Not knowing the value of good commit messages</li> </ul> <p>As the creator of a commit, it is likely you already have a firm grasp of the context surrounding the change. It is not a good assumption that everyone will have the same level of comprehension when they look at your changes. You may also find yourself confused when looking at a commit from several months back if the commit message is lacking context.</p> <h1>Foundation of a Good Commit Message</h1> <p>You cannot talk about how to make good commit messages without referencing these two fantastic posts:</p> <ul> <li><a href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">A Note About Git Commit Messages</a> by Tim Pope</li> <li><a href="https://chris.beams.io/posts/git-commit">How to Write a Git Commit Message</a> by Chris Beams</li> </ul> <p>Even though both are referencing Git, the conventions can be applied to any version control system. I highly encourage you to read the above posts (and then come back) to learn what constitutes a good commit message.</p> <p>As a TL;DR, Chris Beams outlines the <a href="https://chris.beams.io/posts/git-commit/#seven-rules">seven rules of a great commit message</a>:</p> <ol> <li><a href="https://chris.beams.io/posts/git-commit/#separate">Separate subject from body with a blank line</a></li> <li><a href="https://chris.beams.io/posts/git-commit/#limit-50">Limit the subject line to 50 characters</a></li> <li><a href="https://chris.beams.io/posts/git-commit/#capitalize">Capitalize the subject line</a></li> <li><a href="https://chris.beams.io/posts/git-commit/#end">Do not end the subject line with a period</a></li> <li><a href="https://chris.beams.io/posts/git-commit/#imperative">Use the imperative mood in the subject line</a></li> <li><a href="https://chris.beams.io/posts/git-commit/#wrap-72">Wrap the body at 72 characters</a></li> <li><a href="https://chris.beams.io/posts/git-commit/#why-not-how">Use the body to explain <em>what</em> and <em>why</em> vs. <em>how</em></a></li> </ol> <h1>Commit Early and Often</h1> <p>I learned about the <em>Commit Early and Often</em> approach early in my journey. It is an easy concept to understand, although from experience it can be hard to consistently adhere too. Seth Robertson&rsquo;s <a href="https://sethrobertson.github.io/GitBestPractices/#commit">Do commit early and often</a> article explains the benefits:</p> <blockquote> <p>Git only takes full responsibility for your data when you commit. If you fail to commit and then do something poorly thought out, you can run into trouble. Additionally, having periodic checkpoints means that you can understand how you broke something.</p> </blockquote> <p>It depends on the person and project, but it is an easy trap to hold your changes and make large commits for the <em>completed</em> piece of work. Seth Robertson raises these concerns but suggests you can <em>hide the sausage making process</em> if you so desire.</p> <blockquote> <p>People resist this out of some sense that this is ugly, limits git-bisection functionality, is confusing to observers, and might lead to accusations of stupidity. Well, I’m here to tell you that resisting this is ignorant.</p> </blockquote> <h1>Hiding the Sausage Making Process</h1> <p>As Seth Robertson mentions in his note <a href="https://sethrobertson.github.io/GitBestPractices/#sausage">on sausage making</a>, it is the process of doctoring <em>how your final</em> commits look when completed. By committing early and often, the commits will likely expose your complete development process (i.e., fixing a bug you introduced earlier, adding tests after the fact, etc.).</p> <blockquote> <p>Some people like to hide the sausage making, or in other words pretend to the outside world that their commits sprung full-formed in utter perfection into their git repository. Certain large public projects demand this, others demand smushing all work into one large commit, and still others do not care.</p> </blockquote> <p>With version control systems, it is possible to edit the commit history. Seth Robertson dives deeper into this in his article on <a href="https://sethrobertson.github.io/GitPostProduction/gpp.html">Post-Production Editing using Git</a>. There is another benefit other than the vanity aspect of making a set of commits <em>look</em> good. By squashing bug fixes or even half-baked solutions into cohesive commits that compile and/or pass tests, you are able to <code>git bisect</code>, <code>git revert</code> and <code>git cherry-pick</code> without much issue. In addition, you are able to squash several commits into logical <a href="https://www.freshconsulting.com/atomic-commits/">atomic commits</a> — then code review is straight-forward.</p> <p>Personally, I like to commit early and often, and only after the fact will I squash commits down into atomic commits. These commits ideally are valid from a testing/compiling perspective. The whole set of commits that I push up for code review tell the story of <em>what w</em>as changed and <em>why</em> it was done.</p> <h1>Semantic Commit Messages</h1> <p>As an experiment, I&rsquo;m going to be trying out <em><a href="https://www.conventionalcommits.org">semantic commit messages (aka conventional commits)</a></em>. The idea here is that commit messages are structured so that it is easy to understand the intention and impact of a commit. In addition, adhering to a consistent format gives commit messages a machine-readable meaning.</p> <p>The <a href="https://seesparkbox.com/foundry/semantic_commit_messages">following snippet from Jeremy Mack</a> best illustrates how semantic commits are formatted:</p> <div class=highlight><pre class="highlight plaintext"><code>feat: add hat wobble
^--^  ^------------^
|     |
|     +-&gt; Summary in present tense.
|
+-------&gt; Type: chore, docs, feat, fix, refactor, style, or test.
</code></pre></div> <p>An optional aspect you can add is a <em>scope</em> after the <em>type</em> to indicate the section of the codebase that the commit interacts with (i.e., <code>fix(linter): fix off by one in main loop</code>). The following is an example of what a commit history with semantic commits might look like:</p> <div class=highlight><pre class="highlight plaintext"><code>* bc0ee40 - (2 days ago) chore: bump Rails version
* 52f87c0 - (3 days ago) docs: enhance README documentation
* 66fd6f7 - (4 days ago) feat(payment): add new payment option
* 3f0746c - (5 days ago) fix(admin): bug in dropdown selector
* 2b56812 - (6 days ago) refactor(jobs): background job logging
* da75ea2 - (7 days ago) style: remove extra whitespaces
* 3ade674 - (8 days ago) test(payment): add more tests around payment
</code></pre></div> <p>The above history is easy to understand, and I believe it&rsquo;ll help with creating those <em>atomic commits</em>. As mentioned, the commit messages become machine-readable and this paves a way to use tools like <a href="https://github.com/semantic-release/semantic-release">semantic-release</a>.</p> <h1>Putting It All Together</h1> <p>To better integrate semantic commit messages into my workflow, I have the following set as my <code>.gitmessage</code> template (learn how to use this in <a href="https://robots.thoughtbot.com/better-commit-messages-with-a-gitmessage-template">this article by Matt Sumner</a>):</p> <div class=highlight><pre class="highlight plaintext"><code>

# &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
#
# &lt;type&gt; - chore, docs, feat, fix, refactor, style or test
# (&lt;scope&gt;) - optional, section of codebase involved
# &lt;subject&gt; - present tense summary, whole line is 50 characters
#
# 72-character wrapped longer description. This should answer:
# * Why was this change necessary?
# * How does it address the problem?
# * Are there any side effects?
#
# Include a link to the ticket, if any.
#
# Add co-authors if you worked on this code with others:
# Co-authored-by: Full Name &lt;email@example.com&gt;
</code></pre></div> <p>As always, keep on levelling up!</p> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> Signup for my Newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="email address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="container footer"> <div class="col-md-12 footer__social"> <a href="https://twitter.com/KevinJalbert">Twitter</a> <a href="https://github.com/kevinjalbert">GitHub</a> <a href="https://stackoverflow.com/users/583592/kevin-jalbert">Stack Overflow</a> </div> <div class="col-md-12 footer__copywrite"> Code licensed <a href="https://github.com/kevinjalbert/kevinjalbert.github.io/blob/real-master/LICENSE">MIT</a>, Content &copy; 2019 Kevin Jalbert </div> </div> </html> <script src="/javascripts/app.js"></script>