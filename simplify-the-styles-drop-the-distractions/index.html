<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=canonical href=https://kevinjalbert.com/simplify-the-styles-drop-the-distractions/> <title>Simplify the Styles, Drop the Distractions | Kevin Jalbert</title> <meta name=description content="During development, everyone has a preference of coding style. For the most part these preferences have no effect on the functionality of the application. It is possible that they can become a larg..."/> <meta name=keywords content="software, best practices"/> <meta name=url content="https://kevinjalbert.com/simplify-the-styles-drop-the-distractions/"/> <meta property="og:url" content="https://kevinjalbert.com/simplify-the-styles-drop-the-distractions/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="During development, everyone has a preference of coding style. For the most part these preferences have no effect on the functionality of the application. It is possible that they can become a large time sink, especially in larger teams and projects. In this article we will determine how minor style differences cause negative effects, and how we can mitigate them."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/2017-01-31-simplify-the-styles-drop-the-distractions/xkcd-code-quality.png"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="Simplify the Styles, Drop the Distractions"/> <meta property="og:description" content="During development, everyone has a preference of coding style. For the most part these preferences have no effect on the functionality of the application. It is possible that they can become a large time sink, especially in larger teams and projects. In this article we will determine how minor style differences cause negative effects, and how we can mitigate them."/> <meta property="og:image" content="https://kevinjalbert.com/images/2017-01-31-simplify-the-styles-drop-the-distractions/xkcd-code-quality.png"/> <meta property="og:title" content="Simplify the Styles, Drop the Distractions"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "Simplify the Styles, Drop the Distractions",
       "keywords": "software, best practices",
       "url": "https://kevinjalbert.com/simplify-the-styles-drop-the-distractions/",
       "datePublished": "2017-01-31 00:00:00 UTC",
       "dateModified": "2017-01-31 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/simplify-the-styles-drop-the-distractions/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Simplify the Styles, Drop the Distractions</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class=article__date>January 31, 2017 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>7 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/simplify-the-styles-drop-the-distractions/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/software/">software</a> <a href="/tags/best-practices/">best practices</a> </div> </div> </div> <div class=article__separator></div> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> Signup for my Newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="email address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <p>Everyone has preferences in how code should be structured from an aesthetic standpoint. Having creative freedom in finding your own style is a powerful and rewarding feeling. Seeing that new class/file completely written in your style can put a smile on your face. The problem is we&rsquo;re often not the only developer on a project. In a team or open-source environment, it is unlikely that <em>everyone</em> is on board with the exact coding style. It is not uncommon to see different styles in a project just because everyone has their own.</p> <h1>Why Care?</h1> <p>You might be asking <em>&ldquo;Why Care?&rdquo;</em> about styles. As developers, we want to enjoy working in our codebase. If we&rsquo;re constantly dealing with inconsistent styles, it becomes a mental burden. Also, during code reviews everyone might be imposing their own styles on the reviewed code. After all is said and done, it really comes down to dropping the distractions in a codebase. With a consistent style there are no stylistic arguments in code reviews, and readability increases as the taxing effort of dealing with multiple styles in the same file disappears.</p> <p>The following is an extreme case of stylistic inconsistencies with two functionally identical code snippets &ndash; one follows a styleguide while the other does not.</p> <pre class="highlight ruby"><code><span class="cm">=begin
This method checks if the two args are equal
it then returns the combined value
=end</span>
<span class="k">def</span> <span class="nf">method_one</span> <span class="p">(</span> <span class="n">first_arg</span><span class="p">,</span><span class="n">second_arg</span> <span class="p">)</span>
    <span class="nb">puts</span> <span class="s2">"Executing method_one"</span>

    <span class="k">if</span> <span class="n">first_arg</span><span class="p">.</span><span class="nf">eql?</span> <span class="n">second_arg</span>
          <span class="nb">puts</span><span class="p">(</span><span class="s1">'first_arg is the same as second_arg'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">return</span><span class="p">(</span><span class="n">first_arg</span><span class="o">+</span><span class="n">second_arg</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre class="highlight ruby"><code><span class="c1"># This method checks if the two args are equal</span>
<span class="c1"># it then returns the combined value</span>
<span class="k">def</span> <span class="nf">method_one</span><span class="p">(</span><span class="n">first_arg</span><span class="p">,</span> <span class="n">second_arg</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s1">'Executing method_one'</span>

  <span class="k">if</span> <span class="n">first_arg</span><span class="p">.</span><span class="nf">eql?</span><span class="p">(</span><span class="n">second_arg</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="s1">'first_arg is the same as second_arg'</span>
  <span class="k">end</span>

  <span class="k">return</span> <span class="n">first_arg</span> <span class="o">+</span> <span class="n">second_arg</span>
<span class="k">end</span>
</code></pre> <p>Hopefully, you found the second snippet more pleasant and easier to read. The second one follows a styleguide while the first one had a mis-match of style.</p> <h1>Starting with Styles</h1> <p><img alt="Mixing tabs and spaces" width=717 height=325 src="/images/2017-01-31-simplify-the-styles-drop-the-distractions/tabs-spaces-both.png"/> <em>[Image from the <a href="http://www.emacswiki.org/emacs/TabsSpacesBoth">EmacsWiki</a>, original comic by <a href="http://www.duelinganalogs.com/comic/2007/04/02/hello-im-linux/">Steve Napierski</a>]</em></p> <p>Many basic style decisions are made early when a project is started. One of two things happen:</p> <ol> <li>Styles are <strong>implicitly determined</strong> by the creator</li> <li>Styles are <strong>explicitly established</strong> upfront by the creator or collaborators</li> </ol> <p>Even if the project starts with an implicit determined style, the end goal is to make it explicit. The more people that contribute to a project, the more chance their coding styles will conflict. Also, your personal coding style evolves over time and it is likely that styles within a project will <em>drift</em>, even with a single contributor.</p> <p>To reduce wasted time dealing with style issues, just explicitly set a style for your project.</p> <h2>Picking an Explicit Style</h2> <p>I&rsquo;m willing to bet that all languages have community styleguides (if not, then that&rsquo;s a great opportunity to start one!). The following are some example styleguides:</p> <ul> <li><a href="https://www.python.org/dev/peps/pep-0008/">Python - PEP8 Styleguide</a></li> <li><a href="https://github.com/bbatsov/ruby-style-guide">Ruby - Community Styleguide</a></li> <li><a href="https://github.com/airbnb/javascript">Javascript - Airbnb Styleguide</a></li> <li><a href="https://google.github.io/styleguide/jsguide.html">Javascript - Google Styleguide</a></li> </ul> <p>When picking a type of style, I recommend to just pick one of the already established styleguides. You might be tempted to start completely fresh and make your own styleguide individually or with other contributors. The problem with creating a fresh styleguide is that eventually there will be the discussion, <em>&ldquo;I want the style to look like this&rdquo;</em>, and there will be time wasted trying to make everyone happy (which possibly will never happen). When new developers get started in a codebase they might say, <em>&ldquo;Why do we have the style like this?&rdquo;</em>. This leads to a discussion regarding whether or not the styleguide should be revised, which again is a potential waste of time.</p> <p>You can deflect all styleguide questions if you just select a community styleguide to begin with. These styleguides have already gone through rigorous discussions within the community. One more bonus of using a popular styleguide is that it is likely that other open-source projects are using the same styleguide.</p> <h2>Using Linters</h2> <p>Linters are styleguide checkers that often provide a command line interface and editor integrations. Like previously mentioned with styleguides, there is probably one for each language (if not, what a great opportunity!). The following are some example linters:</p> <ul> <li><a href="http://batsov.com/rubocop/">Ruby - Rubocop</a></li> <li><a href="http://eslint.org/">Javascript - ESLint</a></li> <li><a href="https://stylelint.io/">CSS/SCSS/LESS - Stylelint</a></li> </ul> <p>A styleguide and linter work hand-in-hand. Together they ensure that code that violates the styleguide is flagged before it is committed to the codebase. There really is no downside to using a linter, and in most cases the benefits far outweigh the effort to set up in your editor. I highly recommend that everyone takes advantage of linters within your editor.</p> <h2>Deviating from the Styleguides</h2> <p>If your team is completely set on having customized styles that differ from a popular styleguide, I would still encourage using one as a base. In an ideal scenario it is possible to use inheritance, where you can then inherit the rules from your choice of popular styleguide. If this isn&rsquo;t possible, then the next best option is to simply copy the whole guide and use that as your base and make modifications to it.</p> <p>Each styleguide/linter has their own implementation and handling of their configurations. You will have to explore each and see how to deal with the inheritance. For example, <a href="http://eslint.org/docs/user-guide/configuring#extending-configuration-files">ESLint</a> and <a href="http://rubocop.readthedocs.io/en/latest/configuration/#inheritance">Rubocop</a> define how to extend/inherit from other styleguides.</p> <h2>Reduce the Distractions</h2> <p>Using a styleguide and linter, it becomes easy to identify and cut off the distractions of inconsistent styles early. If you can fix stylistic changes as you modify the underlying code, then the future you or your teammates won&rsquo;t have to deal with it later. In addition, during code reviews everyone knows that all stylistic changes <em>should</em> be taken care of, thus reducing the mental burden.</p> <p><img alt="Just use a styleguide!" width=1480 height=517 src="/images/2017-01-31-simplify-the-styles-drop-the-distractions/xkcd-code-quality.png"/> <em>[Image from <a href="https://xkcd.com/1513/">xkcd</a>]</em></p> <h1>Applying to an Existing Project</h1> <p>It&rsquo;s great that you want to get a consistent style in an existing project. Now comes an important decision, <em>&ldquo;Do we apply all the style fixes immediately, or as we encounter them?&rdquo;</em> The answer is situational and many factors can influence what works best for your project and team.</p> <p>With a sweeping change, a lot of code might be modified, although nothing should be functionally different, as we are just dealing with stylistic edits. This can impact the effectiveness of <code>git blame</code> as the latest commit might simply be <em>&ldquo;Sweeping Style Changes&rdquo;</em>, and not the actual commit you were hoping for. Fortunately, there are ways to look deeper into the <code>git log</code> and find the actual content you are looking for (i.e., <a href="/git-evolution-how-did-we-get-here/">Git Evolution</a>). With a sweeping change of style fixes, the project afterwards would be in a consistent state of styles.</p> <p>By fixing style issues as you encounter them, it leaves a lot to interpretation by team members. <em>&ldquo;Do I fix the whole file when I touch a line within it?&rdquo;</em>, <em>&ldquo;Do I only fix styles for the lines I touch?&rdquo;</em>. In either case the commits will contain two concepts now going forward: feature/bug changes and style changes. Not only does this muddy the usefulness of looking back in the commit history, but code reviews now also contain the style element that everyone has to look at. Overall, the distractions of incrementally dealing with style changes never stop. Even while editing or reading the codebase you will subconsciously see the inconsistent style changes which leads to more distractions.</p> <p>In my personal opinion, rip the band-aid off and just make a sweeping change of style fixes to put your project in a pristine state. In a legacy system, it might make sense to simply do the incremental approach as it would not be often that one would make changes in the battle-tested system.</p> <h1>TL;DR</h1> <ul> <li>Use a styleguide and linter for any software project to help reduce distractions on styles: <ul> <li>If possible pick a popular styleguide to avoid arguments/discussions on styles.</li> <li>Use a linter in your editor to cut off stylistic distractions early (i.e., before code reviews).</li> </ul></li> <li>The sooner a project completely adheres to the styleguide: <ul> <li>The less stylistic distractions are encountered while reading through the codebase, and</li> <li>The less work in keeping up the proper styles.</li> </ul></li> <li>If possible, use a sweeping approach to applying style fixes: <ul> <li>The minimal impact on <code>git blame</code> can be resolved with proper tools.</li> <li>Opposed to using the incremental style of fixes, the distractions are reduced within code reviews and edits.</li> </ul></li> </ul> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="col-md-12 footer__copywrite"> &copy; 2017 Kevin Jalbert </div> </html> <script src="/javascripts/app.js"></script> <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-16620161-5']);
    _gaq.push(['_trackPageview']);

    setTimeout(function() {
      window.onscroll = function() {
        window.onscroll = null; // Only track the event once
        _gaq.push(['_trackEvent', 'scroll', 'read']);
      }
    }, 5000);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>