<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <script>addEventListener('error', window.__e=function f(e){f.q=f.q||[];f.q.push(e)});</script> <link rel=canonical href=https://kevinjalbert.com/sync-twitter-following-to-a-list/> <title>Sync Twitter Following to a List | Kevin Jalbert</title> <meta name=description content="Check out how I automatically maintain a Twitter list of all my following so that I can get daily summaries in Readwise Reader."/> <meta name=keywords content="twitter, tool, process"/> <meta name=datePublished content="2023-01-31 00:00:00 UTC"/> <meta property="og:article:published_time" content="2023-01-31 00:00:00 UTC"/> <meta name=author content="Kevin Jalbert"/> <meta property="og:article:author" content="2023-01-31 00:00:00 UTC"/> <meta name=url content="https://kevinjalbert.com/sync-twitter-following-to-a-list/"/> <meta property="og:url" content="https://kevinjalbert.com/sync-twitter-following-to-a-list/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="Check out how I automatically maintain a Twitter list of all my following so that I can get daily summaries in Readwise Reader."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/2023-01-31-sync-twitter-following-to-a-list/twitter-list.png"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="Sync Twitter Following to a List"/> <meta property="og:description" content="Check out how I automatically maintain a Twitter list of all my following so that I can get daily summaries in Readwise Reader."/> <meta property="og:image" content="https://kevinjalbert.com/images/2023-01-31-sync-twitter-following-to-a-list/twitter-list.png"/> <meta property="og:title" content="Sync Twitter Following to a List"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "Sync Twitter Following to a List",
       "keywords": "twitter, tool, process",
       "url": "https://kevinjalbert.com/sync-twitter-following-to-a-list/",
       "datePublished": "2023-01-31 00:00:00 UTC",
       "dateModified": "2023-01-31 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/sync-twitter-following-to-a-list/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> <script async src="/vendor/analytics/index.js"></script> <script async src="https://www.google-analytics.com/analytics.js"></script> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> <a href="/uses/">Uses</a> <a href="https://github.com/kevinjalbert/ama/blob/master/README.md">AMA</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Sync Twitter Following to a List</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class="article__date entry-date">January 31, 2023 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>1 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/sync-twitter-following-to-a-list/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/process/">process</a> <a href="/tags/tool/">tool</a> <a href="/tags/twitter/">twitter</a> </div> </div> </div> <img src=/images/2023-01-31-sync-twitter-following-to-a-list/twitter-list.png> <i><p>Screenshot of my <a href="https://twitter.com/i/lists/1618235532990980096">Twitter List</a> that I&#39;m subscribed to in Readwise Reader.</p> </i> <div class=article__separator></div> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> If you enjoy this, consider subscribing to my newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <p style="text-align: center">I aim to publish one article a month</p> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="E-mail address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <p>I mostly use Twitter as a source of information (to some degree), but I don&rsquo;t want to be <em>checking</em> Twitter all the time. I usually batch my consumption while keeping track of the timeline position (via the app I use). I don&rsquo;t produce content on Twitter (I just never really got into that aspect of it).</p> <p>I was using Tweetbot and out of nowhere it just stopped working&hellip; <a href="https://tapbots.com/tweetbot/">Turns out Twitter suspended access to 3rd party clients &ndash; which killed Tweetbot (and many other clients)</a>.</p> <p>This become the forcing function to try <a href="https://readwise.io/read">Readwiseâ€™s Reader</a> as my primary way to consume Twitter.</p> <h2>Readwise Reader</h2> <p>I&rsquo;ve recently adopted Reader to help facilitate my consumption of information. It&rsquo;s really a delightful <em>all-in-one</em> application that allows me to collect/filter/consume/highlight content. Reader highlights are instantly sync to <a href="https://readwise.io/i/kevin862">Readwise (referral link)</a> at no cost as it is bundled into the tool.</p> <p>With the change in Twitter, I decided to embrace Reader&rsquo;s ability to provide daily summaries of tweets from a <a href="https://help.twitter.com/en/using-twitter/twitter-lists">Twitter List</a>.</p> <h2>Twitter List of Followings</h2> <p>Due to how Reader&rsquo;s Twitter daily summaries work, I need a public Twitter List of people I&rsquo;m following. I went about this by throwing together a quick script to do synchronize my following to a list using Twitter&rsquo;s API.</p> <div class=highlight><pre class="highlight javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">TwitterApi</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">twitter-api-v2</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">TARGET_LIST_ID</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span>
<span class="kd">const</span> <span class="nx">MY_USER_ID</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span>

<span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TwitterApi</span><span class="p">({</span>
  <span class="na">appKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">appSecret</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accessToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accessSecret</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">sync</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Fetch all users I follow</span>
  <span class="kd">const</span> <span class="nx">myFollowings</span> <span class="o">=</span> <span class="k">await</span> <span class="p">(</span><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">following</span><span class="p">(</span><span class="nx">MY_USER_ID</span><span class="p">,</span> <span class="p">{</span> <span class="na">asPaginator</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})).</span><span class="nx">fetchLast</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">userIdsFollowing</span> <span class="o">=</span> <span class="nx">myFollowings</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>

  <span class="c1">// Fetch all users in specified list</span>
  <span class="kd">const</span> <span class="nx">membersOfList</span> <span class="o">=</span> <span class="k">await</span> <span class="p">(</span><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">listMembers</span><span class="p">(</span><span class="nx">TARGET_LIST_ID</span><span class="p">)).</span><span class="nx">fetchLast</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">userIdsInList</span> <span class="o">=</span> <span class="nx">membersOfList</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>

  <span class="c1">// Get users I follow that are not on the list</span>
  <span class="kd">const</span> <span class="nx">usersToFollow</span> <span class="o">=</span> <span class="nx">userIdsFollowing</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">id</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">userIdsInList</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>

  <span class="c1">// Get users in the list that I don't follow anymore</span>
  <span class="kd">const</span> <span class="nx">usersToUnfollow</span> <span class="o">=</span> <span class="nx">userIdsInList</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">id</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">userIdsFollowing</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>

  <span class="c1">// Set the list to private (avoid notifying users of being added/removed)</span>
  <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">updateList</span><span class="p">(</span><span class="nx">TARGET_LIST_ID</span><span class="p">,</span> <span class="p">{</span> <span class="na">private</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>

  <span class="c1">// Add new users to list</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">userId</span> <span class="k">of</span> <span class="p">[...</span><span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">usersToFollow</span><span class="p">)])</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Adding </span><span class="p">${</span><span class="nx">userId</span><span class="p">}</span><span class="s2"> to list`</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">addListMember</span><span class="p">(</span><span class="nx">TARGET_LIST_ID</span><span class="p">,</span> <span class="nx">userId</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Remove users from the list I don't follow anymore</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">userId</span> <span class="k">of</span> <span class="p">[...</span><span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">usersToUnfollow</span><span class="p">)])</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Removing </span><span class="p">${</span><span class="nx">userId</span><span class="p">}</span><span class="s2"> to list`</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">removeListMember</span><span class="p">(</span><span class="nx">TARGET_LIST_ID</span><span class="p">,</span> <span class="nx">userId</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Set the list back to public</span>
  <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">v2</span><span class="p">.</span><span class="nx">updateList</span><span class="p">(</span><span class="nx">TARGET_LIST_ID</span><span class="p">,</span> <span class="p">{</span> <span class="na">private</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="p">}</span>

<span class="k">await</span> <span class="nx">sync</span><span class="p">()</span>
</code></pre></div> <p>Nothing too special with the above &ndash; I&rsquo;ve commented the code. The <code>.fetchLast()</code> should paginate automatically and grab all members (no guarantees what happens if you have a large following count). I also set the list to private before adding/removing users to avoid notifying them of changes.</p> <p>When I run this script all users I&rsquo;m following are synced to the list (adding/removing based on differences). I don&rsquo;t have to manage the list at all!</p> <h2>Automating the Sync</h2> <p>The final step in making this syncing automatic. If following/removing someone on Twitter, it should be reflected on that list without any extra effort on my part.</p> <p>I decided to use <a href="https://pipedream.com/">Pipedream</a> and scheduled the execution of this script every hour. Pipedream makes this painless, and the free plan is <em>plenty</em> for me. The great thing is that I don&rsquo;t have to worry about it anymore.</p> <p><img alt="Pipedream workflow" width=1336 height=1414 src="/images/2023-01-31-sync-twitter-following-to-a-list/pipedream-workflow.png"/></p> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="container footer"> <div class="col-md-12 footer__social"> <a href="https://twitter.com/KevinJalbert">Twitter</a> <a href="https://github.com/kevinjalbert">GitHub</a> <a href="https://stackoverflow.com/users/583592/kevin-jalbert">Stack Overflow</a> </div> <div class="col-md-12 footer__copywrite"> Code licensed <a href="https://github.com/kevinjalbert/kevinjalbert.github.io/blob/real-master/LICENSE">MIT</a>, Content &copy; 2019 Kevin Jalbert </div> </div> </html> <script src="/javascripts/app.js"></script>