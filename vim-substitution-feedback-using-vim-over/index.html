<!DOCTYPE html> <html lang=en> <head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-SZ2C67981H"></script> <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-SZ2C67981H');
    </script> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content='IE=edge;chrome=1'/> <meta name=viewport content="width=device-width, initial-scale=1"> <link rel=canonical href=https://kevinjalbert.com/vim-substitution-feedback-using-vim-over/> <title>Vim Substitution Feedback Using vim-over | Kevin Jalbert</title> <meta name=description content="Vim substitutions offer little affordance in whether the search will match the desired text. vim-over is a vim plugin that provides visual feedback while working with substitutions."/> <meta name=keywords content=vim /> <meta name=datePublished content="2016-02-29 00:00:00 UTC"/> <meta property="og:article:published_time" content="2016-02-29 00:00:00 UTC"/> <meta name=author content="Kevin Jalbert"/> <meta property="og:article:author" content="2016-02-29 00:00:00 UTC"/> <meta name=url content="https://kevinjalbert.com/vim-substitution-feedback-using-vim-over/"/> <meta property="og:url" content="https://kevinjalbert.com/vim-substitution-feedback-using-vim-over/"/> <meta name=site content="Kevin Jalbert"/> <meta property="og:site_name" content="Kevin Jalbert"/> <meta name="twitter:card" content=summary_large_image /> <meta name="twitter:creator" content="@kevinjalbert"/> <meta name="twitter:description" content="Vim substitutions offer little affordance in whether the search will match the desired text. vim-over is a vim plugin that provides visual feedback while working with substitutions."/> <meta name="twitter:image:src" content="https://kevinjalbert.com/images/kevin-jalbert.jpg"/> <meta name="twitter:site" content="Kevin Jalbert"/> <meta name="twitter:title" content="Vim Substitution Feedback Using vim-over"/> <meta property="og:description" content="Vim substitutions offer little affordance in whether the search will match the desired text. vim-over is a vim plugin that provides visual feedback while working with substitutions."/> <meta property="og:image" content="https://kevinjalbert.com/images/kevin-jalbert.jpg"/> <meta property="og:title" content="Vim Substitution Feedback Using vim-over"/> <script type="application/ld+json">
    {
       "@context": "http://schema.org",
       "@type": "BlogPosting",
       "headline": "Vim Substitution Feedback Using vim-over",
       "keywords": "vim",
       "url": "https://kevinjalbert.com/vim-substitution-feedback-using-vim-over/",
       "datePublished": "2016-02-29 00:00:00 UTC",
       "dateModified": "2016-02-29 00:00:00 UTC",
       "author": {
         "@type": "Person",
         "name": "Kevin Jalbert",
         "sameAs": [
           "https://twitter.com/kevinjalbert",
           "https://github.com/kevinjalbert",
           "https://keybase.io/kevinjalbert",
           "https://reddit.com/user/kevinjalbert"
         ]
       },
       "mainEntityOfPage": {
          "@type": "WebPage",
         "@id": "https://kevinjalbert.com/vim-substitution-feedback-using-vim-over/"
       }
    }
  </script> <link href="/stylesheets/app.css" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Articles | Kevin Jalbert" href="/feed.xml"/> </head> <div class=container> <div class=header> <div class="col-xs-12 col-sm-7 navigation"> <a class=banner href="/">Kevin Jalbert</a> <a href="/about/">About</a> <a href="/now/">Now</a> <a href="/uses/">Uses</a> <a href="https://github.com/kevinjalbert/ama/blob/master/README.md">AMA</a> </div> <div class="col-xs-12 col-sm-5 search-component"> <input placeholder=Search class="search ui-autocomplete-input ui-corner-all" autocomplete=on> </div> </div> </div> <body> <div class="container content article"> <div class=row> <div class=col-md-12> <h1 class=article__title><p>Vim Substitution Feedback Using vim-over</p> </h1> <div class="row article__meta-info"> <div class="col-xs-4 col-md-4"> <div class="article__date entry-date">February 29, 2016 </div> </div> <div class="col-xs-4 col-md-4"> <div class=article__read-time>1 min read</div> </div> <div class="col-xs-4 col-md-4"> <div class=article__comments> <a href="https://kevinjalbert.com/vim-substitution-feedback-using-vim-over/#disqus_thread">0 Comments</a> </div> </div> </div> <div class="row article__meta-tags"> <div class="col-xs-12 col-md-12"> <div class=article__tags> <a href="/tags/vim/">vim</a> </div> </div> </div> <div class=article__separator></div> <div class=newsletter__form> <div class="panel panel-default"> <div class=panel-heading> <h4 class="panel-title accordion-toggle collapsed" data-toggle=collapse data-parent="#accordion" href="#newsletterFormCollapse"> If you enjoy this, consider subscribing to my newsletter </h4> </div> <div id=newsletterFormCollapse class="panel-collapse collapse"> <div class=panel-body> <p style="text-align: center">I aim to publish one article a month</p> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel=stylesheet> <style>
              #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
              /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                 We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style> <div id=mc_embed_signup> <form action="//kevinjalbert.us14.list-manage.com/subscribe/post?u=fe02783eec556cfc2893fe174&amp;id=aecd14f8e6" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate> <div id=mc_embed_signup_scroll> <input type=email value="" name=EMAIL class=email id=mce-EMAIL placeholder="E-mail address" required> <div style="position: absolute; left: -5000px;" aria-hidden=true><input name=b_fe02783eec556cfc2893fe174_aecd14f8e6 tabindex=-1 value=""></div> <div class=clear><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div> </div> </form> </div> </div> </div> </div> </div> <p>It is common while in vim to perform substitution tasks over the text you are editing. This is often accomplished using the following command:</p> <div class=highlight><pre class="highlight plaintext"><code>:%s/&lt;find&gt;/&lt;replacement&gt;/g
</code></pre></div> <p>The <code>%s</code> command will perform substitution over every line within the buffer. The <code>/&lt;find&gt;/&lt;replace&gt;</code> specifies the substitution to perform. Finally the <code>/g</code> indicates that this should apply to multiple occurrences if they are present on the same line.</p> <p>This works great, although there is little affordance in determining whether the specified <code>&lt;find&gt;</code> will hit the matches you are interested in. The aforementioned command is a <em>all-or-nothing</em> with respect to execution, there is no <em>visual feedback</em> until you execute the command.</p> <h1>Visual Feedback via vim-over</h1> <p>The <a href="https://github.com/osyo-manga/vim-over">vim-over</a> plugin provides a dynamic approach for visual feedback while performing substitutions. It is extremely useful while crafting specific <code>&lt;find&gt;</code> patterns.</p> <p><img alt="Visual Feedback Demo" width=440 height=320 src="/images/2016-02-29-vim-substitution-feedback-using-vim-over/visual-feedback-demo.gif"/></p> <h1>Tips and Tricks</h1> <p>I have three vim maps that I use to simplify and enhance my substitutions.</p> <h2>#1 - Substitute Word</h2> <p>This mapping (<code>&lt;leader&gt;s</code>) will find and replace the text under the cursor using <code>vim-over</code> for visual feedback. After the mapping has been executed you are left where you simply type the <code>&lt;replacement&gt;/g</code>.</p> <div class=highlight><pre class="highlight plaintext"><code>nnoremap &lt;leader&gt;s :OverCommandLine&lt;CR&gt; %s/&lt;C-r&gt;&lt;C-w&gt;/
</code></pre></div> <h2>#2 - Global Substitution</h2> <p>This mapping (<code>&lt;leader&gt;v</code>) will perform a global substitution using <code>vim-over</code> for visual feedback. After the mapping has been executed you are left where you type the <code>&lt;find&gt;/&lt;replacement&gt;/g</code>.</p> <div class=highlight><pre class="highlight plaintext"><code>function! VisualFindAndReplace()
    :OverCommandLine %s/
    :noh
endfunction
nnoremap &lt;Leader&gt;v :call VisualFindAndReplace()&lt;CR&gt;
</code></pre></div> <h2>#3 - Visual Substitution</h2> <p>This mapping (<code>&lt;leader&gt;v</code> while in visual mode) will perform a substitution only within the visually selected text using <code>vim-over</code> for visual feedback. After the mapping has been executed you are left where you type the <code>&lt;find&gt;/&lt;replacement&gt;/g</code>.</p> <div class=highlight><pre class="highlight plaintext"><code>function! VisualFindAndReplaceWithSelection() range
    :'&lt;,'&gt;OverCommandLine s/
    :noh
endfunction
xnoremap &lt;Leader&gt;v :call VisualFindAndReplaceWithSelection()&lt;CR&gt;
</code></pre></div> <div class=article__comments-button><button type=button class="btn btn-default show-comments">Click to Disqus</button></div> <div id=disqus_thread></div> </div> </div> </div> <script>
//<![CDATA[
    var disqus_shortname = 'kevinjalbert';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
//]]>
</script> </body> <div class="container footer"> <div class="col-md-12 footer__social"> <a href="https://twitter.com/KevinJalbert">Twitter</a> <a href="https://github.com/kevinjalbert">GitHub</a> <a href="https://stackoverflow.com/users/583592/kevin-jalbert">Stack Overflow</a> </div> <div class="col-md-12 footer__copywrite"> Code licensed <a href="https://github.com/kevinjalbert/kevinjalbert.github.io/blob/real-master/LICENSE">MIT</a>, Content &copy; 2019 Kevin Jalbert </div> </div> </html> <script src="/javascripts/app.js"></script>